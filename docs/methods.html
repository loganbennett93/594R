<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Methods | UVX Headway Distribution</title>
  <meta name="description" content="This is the book written for my 584R project." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Methods | UVX Headway Distribution" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the book written for my 584R project." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Methods | UVX Headway Distribution" />
  
  <meta name="twitter:description" content="This is the book written for my 584R project." />
  

<meta name="author" content="Logan Bennett" />


<meta name="date" content="2020-11-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="literature.html"/>
<link rel="next" href="applications.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="literature.html"><a href="literature.html"><i class="fa fa-check"></i><b>2</b> Literature</a><ul>
<li class="chapter" data-level="2.1" data-path="literature.html"><a href="literature.html#references"><i class="fa fa-check"></i><b>2.1</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>3</b> Methods</a><ul>
<li class="chapter" data-level="3.1" data-path="methods.html"><a href="methods.html#data"><i class="fa fa-check"></i><b>3.1</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>4</b> Applications</a><ul>
<li class="chapter" data-level="4.1" data-path="applications.html"><a href="applications.html#grouped-distributions"><i class="fa fa-check"></i><b>4.1</b> Grouped Distributions</a></li>
<li class="chapter" data-level="4.2" data-path="applications.html"><a href="applications.html#statistical-tests-on-grouped-distributions"><i class="fa fa-check"></i><b>4.2</b> statistical Tests on Grouped Distributions</a></li>
<li class="chapter" data-level="4.3" data-path="applications.html"><a href="applications.html#ks-tests-on-grouped-distributions"><i class="fa fa-check"></i><b>4.3</b> KS Tests on Grouped Distributions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>5</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="literature.html"><a href="literature.html#references"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">UVX Headway Distribution</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="methods" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Methods</h1>
<p>We modified a dataset provided by Utah Transit Authority (UTA) to verify the affects of several TSP strategies on headway variation of the UVX BRT system. This BRT system is a 10 mile line between Provo and Orem and was open for public use as of January 9, 2019. The demographics of this area are particularly marked by the presence of two large universities in the area, Brigham Young University in Provo and Utah Valley University in Orem. With over 30,000 students in enrolled in each respective institution each year, a great deal of traffic demand is created between students traveling to and from school, especially considering the fact that housing and job demands are driven by students. For this reason there is a decent amount of UVU students who live in Provo, and the need to make the Provo-Orem commute causes considerable delay during peak hours. In conjunction with servicing other demographics of the population, servicing student needs was a large factor in the decision to implement a BRT system in this area.</p>
<div id="data" class="section level2">
<h2><span class="header-section-number">3.1</span> Data</h2>
<p>We created an analysis dataset from UTAâ€™s raw dataset that included timepoint data for all UVX BRT trips from January 2, 2019 to December 30, 2019. The dataset was cleaned and reoriented to reflect data that would be useful in analyzing the distribution of headways over different times of day, locations, and TSP thresholds. We retained within the dataset routes, trips, stops, and vehicles. We simplified the format of these datapoints and created a new variable to hold information regarding reliability, or the difference between scheduled departures and actual departures. we also changed the level descriptions of the TSP thresholds.</p>
<pre><code>## # A tibble: 1,015,863 x 24
##    NEW_Date Block Trip  Vehicle Route Direction `Time Point` Schedule
##    &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;   
##  1 1/2/19   2400  04:17 17110   830X  NB TO OR~ PROVFRST     04:17   
##  2 1/2/19   2400  04:17 17110   830X  NB TO OR~ 400----S     04:19   
##  3 1/2/19   2400  04:17 17110   830X  NB TO OR~ CNTR--ST     04:20   
##  4 1/2/19   2400  04:17 17110   830X  NB TO OR~ 300----N     04:21   
##  5 1/2/19   2400  04:17 17110   830X  NB TO OR~ ACADSQUR     04:22   
##  6 1/2/19   2400  04:17 17110   830X  NB TO OR~ JOA-QUIN     04:24   
##  7 1/2/19   2400  04:17 17110   830X  NB TO OR~ BYU-CMPS     04:26   
##  8 1/2/19   2400  04:17 17110   830X  NB TO OR~ BYU----N     04:28   
##  9 1/2/19   2400  04:17 17110   830X  NB TO OR~ BYU-STAD     04:29   
## 10 1/2/19   2400  04:17 17110   830X  NB TO OR~ 2230---N     04:31   
## # ... with 1,015,853 more rows, and 16 more variables: DepartureTime &lt;chr&gt;,
## #   Status &lt;chr&gt;, Reliability &lt;chr&gt;, Dwell &lt;chr&gt;, Travel &lt;chr&gt;, Hour &lt;chr&gt;,
## #   Headway &lt;chr&gt;, REL_sec &lt;chr&gt;, `TT+Dwe;;_sec` &lt;chr&gt;, Dwell_sec &lt;chr&gt;,
## #   TT_sec &lt;chr&gt;, `tot TT+Dwell_sec` &lt;chr&gt;, `TP #` &lt;chr&gt;, Threshold &lt;chr&gt;,
## #   ChangeDay &lt;chr&gt;, Peak &lt;chr&gt;</code></pre>
<pre><code>## # A tibble: 1,015,863 x 12
##    route direction trip  timepoint vehicle date       time               
##    &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;date&gt;     &lt;dttm&gt;             
##  1 830X  NB        04:17 PROVFRST  17110   2019-01-02 2019-01-02 04:17:29
##  2 830X  NB        04:17 400----S  17110   2019-01-02 2019-01-02 04:19:48
##  3 830X  NB        04:17 CNTR--ST  17110   2019-01-02 2019-01-02 04:20:42
##  4 830X  NB        04:17 300----N  17110   2019-01-02 2019-01-02 04:21:29
##  5 830X  NB        04:17 ACADSQUR  17110   2019-01-02 2019-01-02 04:22:18
##  6 830X  NB        04:17 JOA-QUIN  17110   2019-01-02 2019-01-02 04:24:10
##  7 830X  NB        04:17 BYU-CMPS  17110   2019-01-02 2019-01-02 04:25:43
##  8 830X  NB        04:17 BYU----N  17110   2019-01-02 2019-01-02 04:28:23
##  9 830X  NB        04:17 BYU-STAD  17110   2019-01-02 2019-01-02 04:29:15
## 10 830X  NB        04:17 2230---N  17110   2019-01-02 2019-01-02 04:31:22
## # ... with 1,015,853 more rows, and 5 more variables: schedule &lt;dttm&gt;,
## #   reliability &lt;drtn&gt;, dwell &lt;drtn&gt;, travel &lt;drtn&gt;, threshold &lt;fct&gt;</code></pre>
<p>We also calculated elapsed headways, discrepancies between scheduled and actual headways, and cumulative dwell times on trips, as these are potential factors to verify the effects of manipulation on TSP thresholds.</p>
<p>The team noticed some data integrity issues, particularly cases where large discrepancies between scheduled and actual headway were taking place. Those outliers can be seen below.</p>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 35 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="594R_files/figure-html/hist-disc-1.png" width="672" /></p>
<p>Investigation of these large discrepancies led the team to discover that they tended to occur at certain stops along the route, particularly at the Provo Frontrunner station, as well as at times early in the morning and late at night.</p>
<pre><code>## # A tibble: 1,056 x 5
##    direction trip  timepoint    time                discrepancy
##    &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;        &lt;dttm&gt;              &lt;drtn&gt;     
##  1 SB        22:55 PROVFRST - 2 2019-07-16 23:58:35 -87100 secs
##  2 SB        23:10 PROVFRST - 2 2019-10-18 00:00:52  86387 secs
##  3 SB        23:10 TOWNCNTR - 2 2019-07-31 00:01:25  86236 secs
##  4 SB        23:10 PROVFRST - 2 2019-09-27 00:00:04  86229 secs
##  5 SB        23:10 PROVFRST - 2 2019-07-31 00:03:51  86204 secs
##  6 SB        23:09 PROVFRST - 2 2019-01-23 00:00:00  86170 secs
##  7 SB        23:10 PROVFRST - 2 2019-11-15 23:56:39 -86164 secs
##  8 SB        23:10 PROVFRST - 2 2019-10-09 00:00:46  86147 secs
##  9 SB        22:25 PROVFRST - 2 2019-10-29 23:12:21 -86146 secs
## 10 SB        23:10 PROVFRST - 2 2019-09-26 23:55:45 -86141 secs
## # ... with 1,046 more rows</code></pre>
<pre><code>## # A tibble: 21 x 2
##    timepoint        n
##    &lt;chr&gt;        &lt;int&gt;
##  1 PROVFRST - 1   242
##  2 UVU-CMPS       107
##  3 OREMFRST        67
##  4 PROVFRST        58
##  5 LAKEVIEW        54
##  6 BYU-CMPS        47
##  7 PROVFRST - 2    45
##  8 400----S        43
##  9 MAIN--ST        43
## 10 BYU----N        42
## # ... with 11 more rows</code></pre>
<pre><code>## # A tibble: 205 x 2
##    trip      n
##    &lt;chr&gt; &lt;int&gt;
##  1 06:17   114
##  2 24:19    98
##  3 00:19    52
##  4 23:19    46
##  5 00:52    44
##  6 07:04    33
##  7 24:51    31
##  8 23:10    28
##  9 00:10    23
## 10 06:53    16
## # ... with 195 more rows</code></pre>
<p>The distribution of discrepancies was shown to improve in normalcy with the omission of headways occurring before 7 PM and after 8 PM. Southbound trips at both the Provo Frontrunner 1 and Provo Frontrunner 2 stops were also omitted since the buses stop twice at the same location in the same direction.</p>
<p>The cleaned dataset had a better distribution of headway discrepancies, as is seen below.</p>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="594R_files/figure-html/hist-disc-study-1.png" width="672" /></p>
<p>This data is ready for analysis of headway distributions based off of modifications to TSP strategies.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="literature.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="applications.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["594R.pdf", "594R.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
